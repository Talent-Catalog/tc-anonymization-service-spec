type: object
properties:
  simpleQueryString:  # todo use ?q= query parameter instead?
#    todo jc I am not sure that the full Elasticsearch syntax is url friendly.
#  todo jc I think it is better sent in the body of the request
#    todo sm I agree - we mustn't use ?q= instead of simpleQueryString in the body for full search capability
#    todo sm though I'm not sure we need to support the full Elasticsearch query syntax in the API - that could be for portal users only, at least initially
#    todo sm but we could use query params for a simple search - e.g. for the likes of BidCentral who want to do some
#    todo sm basic searches like by occupation, we could support a simple query param like ?iscoCode= on the candidate endpoints
    type: string
    description: A simple query string for free-text search.
    example: "Graphic Designer"
  statuses:
    type: string
    description: Comma separated string of candidate statuses to filter on.
    example: "active,pending"
  gender:
    description: Gender filter.
    allOf:
      - $ref: ../common/enums/gender.yaml
  occupationIds: # todo use isco codes instead
#    todo jc Yes
#    todo sm agreed - use ISCO codes instead of occupation IDs
    type: string
    description: Comma separated string of occupation IDs to filter on. # todo check
    example: "1,2,3"
  minYrs:
    type: integer
    description: Minimum years of experience.
    example: 2
  maxYrs:
    type: integer
    description: Maximum years of experience.
    example: 10
  nationalityIds: # todo use ISO codes instead
#    todo jc Yes
#    todo sm agreed - use ISO codes instead of country IDs
    type: string
    description: Comma separated string of nationality IDs to filter on.
    example: "1,2,3"
  nationalitySearchType:
    description: Search type for nationalities.
    allOf:
      - $ref: ../common/enums/search_type.yaml
  countryIds: # todo use ISO codes instead
  #    todo jc Yes
  #    todo sm agreed - use ISO codes instead of country IDs
    type: string
    description: Comma separated string of country IDs to filter on.
    example: "1,2,3"
  countrySearchType:
    description: Search type for countries.
    allOf:
      - $ref: ../common/enums/search_type.yaml
  englishMinWrittenLevel:
    type: integer
    format: int32
    description: Minimum written English proficiency level.
    example: 3
  englishMinSpokenLevel:
    type: integer
    format: int32
    description: Minimum spoken English proficiency level.
    example: 4
  otherLanguageId: # todo use ISO codes instead
#    todo jc Yes
#    todo sm agreed - use iso language codes instead of language IDs
#    todo sm language table has 100 null values for iso_code out of 194 languages in total - we should fix this as well, as far as possible
    type: integer
    format: int64
    description: ID of another language for filtering.
    example: 1
  otherMinWrittenLevel:
    type: integer
    format: int32
    description: Minimum written proficiency level for the other language.
    example: 3
  otherMinSpokenLevel:
    type: integer
    format: int32
    description: Minimum spoken proficiency level for the other language.
    example: 4
  unhcrStatuses:
    type: string
    description: Comma separated string of UNHCR statuses to filter on.
    example: "MandateRefugee,RegisteredAsylum"
  lastModifiedFrom:
    type: string
    format: date
    description: Start date for filtering candidates by last modification date.
    example: 2024-01-01
  lastModifiedTo:
    type: string
    format: date
    description: End date for filtering candidates by last modification date.
    example: 2024-12-31
  minAge:
    type: integer
    format: int32
    description: Minimum age of candidates.
    example: 18
  maxAge:
    type: integer
    format: int32
    description: Maximum age of candidates.
    example: 60
  minEducationLevel: # todo use ISCED codes instead
#    todo jc Yes
#    todo sm agreed - use ISCED codes instead of min education level IDs
#    todo sm we need to add an isced_code column to the education_level table in the database
    type: integer
    format: int32
    description: Minimum education level.
    example: 3
  educationMajorIds: # todo use ISCED codes instead
    #    todo jc Yes
    #    todo sm agreed - use ISCED codes instead of education major IDs
    #    todo sm we need to add an isced_code column to the education_r table in the database
    #    todo sm the prod education_major table lists 59 majors, we should check if there are additional ISCED majors we should add
    type: string
    description: Comma separated string of education major IDs.
    example: "1,2,3"
  fromDate:
    type: string
    format: date
    description: Filter candidates by start date.
    example: 2024-11-01
