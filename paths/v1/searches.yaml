post:
  summary: Create a new search
  description: Creates a new search with the specified criteria.
  tags:
    - Searches
  operationId: createSearch
  requestBody:
    description: Search object to be created
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/v1/SearchRequest.yaml
  responses:
    '201':
      description: The search was successfully created
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/SearchResponse.yaml
    '400':
      description: Invalid request payload.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/BadRequestError.yaml
    '401':
      description: Authentication is required to access this resource.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/UnauthorisedError.yaml
    '403':
      description: The client does not have permission to create a search.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/ForbiddenError.yaml
    '409':
      description: A search with the specified criteria already exists.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/ConflictError.yaml
    '500':
      description: An error occurred while creating the search.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/InternalServerError.yaml

get:
  summary: Retrieve a page of searches
  description: Fetches a paginated array of searches.
  tags:
    - Searches
  operationId: getAllSearches
  parameters:
    - name: page
      in: query
      description: The page number for pagination
      required: false
      schema:
        type: integer
        default: 1
    - name: limit
      in: query
      description: The number of results per page
      required: false
      schema:
        type: integer
        default: 10
    - name: type # todo - confirm if we want to keep this?
      in: query
      description: The type of search
      required: false
      schema:
        type: string
        enum:
          - "profession"
    - name: subtype # todo - confirm if we want to keep this?
      in: query
      description: The subtype of search
      required: false
      schema:
        type: string
        enum:
          - "business"
          - "agriculture"
          - "healthcare"
          - "engineering"
          - "food"
          - "education"
          - "labourer"
          - "trade"
          - "arts"
          - "it"
          - "social"
          - "science"
          - "law"
          - "other"
  responses:
    '201':
      description: Successfully retrieved a page of searches
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/SearchPage.yaml
    '400':
      description: Bad request. Invalid query parameters or values.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/BadRequestError.yaml
    '401':
      description: Unauthorized. Authentication required to access this endpoint.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/UnauthorisedError.yaml
    '403':
      description: Forbidden. The client does not have permission to access this resource.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/ForbiddenError.yaml
    '500':
      description: Internal server error. Something went wrong on the server.
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/v1/InternalServerError.yaml
